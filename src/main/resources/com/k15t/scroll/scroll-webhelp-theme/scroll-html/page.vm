#if ($renderStart)
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>$stringEscapeUtils.escapeHtml($element.Title) - $stringEscapeUtils.escapeHtml($space.name)</title>

    #parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-htmlhead.vm")

    #if ($context.BuildSearchIndex)
        <!-- ES5 support for older browsers, needed by lunr -->
        <script src="js/augment.js"></script>##TODO maybe this can be dropped, if no old browsers (IE) need to be supported

        <script id="worker" type="javascript/worker">

        startIndex = function() {
            idx = lunr.Index.load(lunrIndex);
            idx.pipeline.remove(lunr.stopWordFilter);
            postMessage({type: "setup-complete"});
        }

        onmessage = function (event) {
            var message = event.data;

            if ((message.type === 'setup') && message.baseUrl) {
                var url = message.baseUrl;
                importScripts(url + 'js/lunr.js');
                importScripts(url + 'js/lunr-extras.js');
                importScripts(url + 'js/lunr-index.js');
                importScripts(url + 'js/lunr-data.js');
                startIndex();
            }

            if (idx && (message.type === 'search-request') && message.query) {
                var searchWord = message.query;
                var results = idx.search(searchWord).map(function (result) {
                    return lunrData.filter(function (d) {
                        return d.id === parseInt(result.ref, 10)
                    })[0]
                });
                postMessage({type: 'search-results', results: results, query: searchWord});
            }
        }

    </script>
    #end
</head>

<body pageid="$page.id">

<div id="ht-loader"></div>

<div>
   	#parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-headerbar.vm")
   	#parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-sidebar.vm")
</div>

<div id="ht-wrap-container">

    ## ----------------------------------------------------------------------------------------------------------------------------------
    ## Represents include-content.vm in viewport from here
    ## ----------------------------------------------------------------------------------------------------------------------------------

    #parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-sidebar-drag.vm")

    <article class="ht-content">
        <header class="ht-content-header">
            #parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-breadcrumb.vm")
            <h1>$stringEscapeUtils.escapeHtml($element.Title)</h1>
        </header>

        <div id="ht-wiki-content" class="wiki-content" data-index-for-search="true">
#else
        </div>

    </article>


    #parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-post-navigation.vm")

    ## ----------------------------------------------------------------------------------------------------------------------------------
    ## End of include-content.vm in viewport
    ## ----------------------------------------------------------------------------------------------------------------------------------

    #parse("com/k15t/scroll/scroll-webhelp-theme/scroll-html/include/include-footer.vm")
</div>

<div>
    <div id="ht-mq-detect"></div>
</div>

#if ($context.BuildSearchIndex)
    <script src="js/lunr.js"></script>
    <script src="js/lunr-extras.js"></script>
    <script src="assets/js/scroll-search.js"></script>
#end

</body>
</html>
#end